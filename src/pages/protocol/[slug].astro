---
import { CollectionEntry, getCollection } from "astro:content";
import MarkdownLayout from "~/layouts/MarkdownLayout.astro";

export async function getStaticPaths() {
    const data = await getCollection("protocol");
    return data.map((page) => ({
        params: { slug: page.slug },
        props: { page },
    }));
}

export interface Props {
    page: CollectionEntry<"protocol">;
}

const { page } = Astro.props;
---

<MarkdownLayout frontmatter={{ title: page.data?.title ?? "Protocol" }}>
    <Fragment slot="content" set:html={page.body} />
</MarkdownLayout>
